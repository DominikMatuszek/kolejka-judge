\subsection{Automatic source type detection and a custom checker}

\begin{minted}[linenos]{python}
checking.add_steps(
    compile_checker=AutoCompile('checker.cpp'),
    compile_solution=CompileJava('Solution.java'),
    solution=RunJavaClassSolution(class_name='Solution', stdout='out'),
    check=RunChecker('autocompile/run.sh', stdin='out'),
)
status_code, detailed_result = checking.run()
\end{minted}

\code{AutoCompile} detects the source file type (in this case \code{.cpp}), compiles it using \shell{g++}, and creates
the \shell{autocompile/run.sh} file, which contains the command needed to run the compiled file.
\code{CompileJava} compiles the \code{.java} file representing the solution.
\code{RunJavaClassSolution} runs the compiled \code{.class} file, and redirects the output to \shell{out} file.
\code{RunChecker} finalizes the checking by running the shell file generated by the \code{AutoCompile} class, with the
\shell{stdin} redirected from the solution's output file.
Existence of the \shell{checker.cpp} and \shell{Solution.java} files needs to be assured by the test case.
